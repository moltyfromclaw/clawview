name = "clawview"
main = "dist/server/server.js"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[assets]
directory = "./dist/client"

[vars]
SAAS_MODE = "true"
VITE_DEPLOY_API_URL = "https://openclaw-deploy.holly-3f6.workers.dev"
# VITE_CLERK_PUBLISHABLE_KEY - set in dashboard as secret

# Routes for hollyclaw.com
[[routes]]
pattern = "app.hollyclaw.com/*"
zone_name = "hollyclaw.com"

[[routes]]
pattern = "clawview.hollyclaw.com/*"
zone_name = "hollyclaw.com"

# Keep workers.dev as fallback
# https://clawview.holly-3f6.workers.dev

# D1 Database for instance registry
[[d1_databases]]
binding = "DB"
database_name = "clawview-db"
database_id = "5db3cd76-3c87-4255-9e21-e0649657ae48"
